<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Setting up pipelines with {targets} | Reproducible Analytical Pipelines - Master’s of Data Science</title>
  <meta name="description" content="Chapter 7 Setting up pipelines with {targets} | Reproducible Analytical Pipelines - Master’s of Data Science" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Setting up pipelines with {targets} | Reproducible Analytical Pipelines - Master’s of Data Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Setting up pipelines with {targets} | Reproducible Analytical Pipelines - Master’s of Data Science" />
  
  
  

<meta name="author" content="Bruno Rodrigues" />


<meta name="date" content="2022-10-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="unit-tests.html"/>
<link rel="next" href="data-products-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">RAP4MADS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#schedule"><i class="fa fa-check"></i><b>1.1</b> Schedule</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#reproducible-analytical-pipelines"><i class="fa fa-check"></i><b>1.2</b> Reproducible analytical pipelines?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#data-products"><i class="fa fa-check"></i><b>1.3</b> Data products?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#machine-learning"><i class="fa fa-check"></i><b>1.4</b> Machine learning?</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#why-r-why-not-insert-your-favourite-programming-language"><i class="fa fa-check"></i><b>1.5</b> Why R? Why not [insert your favourite programming language]</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#pre-requisites"><i class="fa fa-check"></i><b>1.6</b> Pre-requisites</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#reading-in-data-with-r"><i class="fa fa-check"></i><b>2.1</b> Reading in data with R</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#a-little-aside-on-pipes"><i class="fa fa-check"></i><b>2.2</b> A little aside on pipes</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#exploring-and-cleaning-data-with-r"><i class="fa fa-check"></i><b>2.3</b> Exploring and cleaning data with R</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-visualization"><i class="fa fa-check"></i><b>2.4</b> Data visualization</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="a-primer-on-functional-programming.html"><a href="a-primer-on-functional-programming.html"><i class="fa fa-check"></i><b>3</b> A primer on functional programming</a>
<ul>
<li class="chapter" data-level="3.1" data-path="a-primer-on-functional-programming.html"><a href="a-primer-on-functional-programming.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="a-primer-on-functional-programming.html"><a href="a-primer-on-functional-programming.html#defining-your-own-functions"><i class="fa fa-check"></i><b>3.2</b> Defining your own functions</a></li>
<li class="chapter" data-level="3.3" data-path="a-primer-on-functional-programming.html"><a href="a-primer-on-functional-programming.html#functional-programming"><i class="fa fa-check"></i><b>3.3</b> Functional programming</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>4</b> Git</a>
<ul>
<li class="chapter" data-level="4.1" data-path="git.html"><a href="git.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="git.html"><a href="git.html#installing-git"><i class="fa fa-check"></i><b>4.2</b> Installing Git</a></li>
<li class="chapter" data-level="4.3" data-path="git.html"><a href="git.html#setting-up-a-repo"><i class="fa fa-check"></i><b>4.3</b> Setting up a repo</a></li>
<li class="chapter" data-level="4.4" data-path="git.html"><a href="git.html#cloning-the-repository-onto-your-computer"><i class="fa fa-check"></i><b>4.4</b> Cloning the repository onto your computer</a></li>
<li class="chapter" data-level="4.5" data-path="git.html"><a href="git.html#your-first-commit"><i class="fa fa-check"></i><b>4.5</b> Your first commit</a></li>
<li class="chapter" data-level="4.6" data-path="git.html"><a href="git.html#collaborating"><i class="fa fa-check"></i><b>4.6</b> Collaborating</a></li>
<li class="chapter" data-level="4.7" data-path="git.html"><a href="git.html#contributing-to-someone-elses-repository"><i class="fa fa-check"></i><b>4.7</b> Contributing to someone else’s repository</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="package-development.html"><a href="package-development.html"><i class="fa fa-check"></i><b>5</b> Package development</a>
<ul>
<li class="chapter" data-level="5.1" data-path="package-development.html"><a href="package-development.html#introduction-3"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="package-development.html"><a href="package-development.html#getting-started"><i class="fa fa-check"></i><b>5.2</b> Getting started</a></li>
<li class="chapter" data-level="5.3" data-path="package-development.html"><a href="package-development.html#adding-functions"><i class="fa fa-check"></i><b>5.3</b> Adding functions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="package-development.html"><a href="package-development.html#functions-dependencies"><i class="fa fa-check"></i><b>5.3.1</b> Functions dependencies</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="package-development.html"><a href="package-development.html#documentation"><i class="fa fa-check"></i><b>5.4</b> Documentation</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="package-development.html"><a href="package-development.html#documenting-functions"><i class="fa fa-check"></i><b>5.4.1</b> Documenting functions</a></li>
<li class="chapter" data-level="5.4.2" data-path="package-development.html"><a href="package-development.html#documenting-the-package"><i class="fa fa-check"></i><b>5.4.2</b> Documenting the package</a></li>
<li class="chapter" data-level="5.4.3" data-path="package-development.html"><a href="package-development.html#installing-your-package"><i class="fa fa-check"></i><b>5.4.3</b> Installing your package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="unit-tests.html"><a href="unit-tests.html"><i class="fa fa-check"></i><b>6</b> Unit tests</a>
<ul>
<li class="chapter" data-level="6.1" data-path="unit-tests.html"><a href="unit-tests.html#introduction-4"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="unit-tests.html"><a href="unit-tests.html#testing-your-package"><i class="fa fa-check"></i><b>6.2</b> Testing your package</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="unit-tests.html"><a href="unit-tests.html#is-the-function-returning-an-expected-value-for-a-given-input"><i class="fa fa-check"></i><b>6.2.1</b> Is the function returning an expected value for a given input?</a></li>
<li class="chapter" data-level="6.2.2" data-path="unit-tests.html"><a href="unit-tests.html#can-the-function-deal-with-all-kinds-of-input"><i class="fa fa-check"></i><b>6.2.2</b> Can the function deal with all kinds of input?</a></li>
<li class="chapter" data-level="6.2.3" data-path="unit-tests.html"><a href="unit-tests.html#back-to-developing-again"><i class="fa fa-check"></i><b>6.2.3</b> Back to developing again</a></li>
<li class="chapter" data-level="6.2.4" data-path="unit-tests.html"><a href="unit-tests.html#and-back-to-testing"><i class="fa fa-check"></i><b>6.2.4</b> And back to testing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html"><i class="fa fa-check"></i><b>7</b> Setting up pipelines with <code>{targets}</code></a>
<ul>
<li class="chapter" data-level="7.1" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html#introduction-5"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html#build-automation-with-r"><i class="fa fa-check"></i><b>7.2</b> Build automation with R</a></li>
<li class="chapter" data-level="7.3" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html#an-aside-on-renv"><i class="fa fa-check"></i><b>7.3</b> An aside on <code>{renv}</code></a></li>
<li class="chapter" data-level="7.4" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html#our-actual-first-pipeline"><i class="fa fa-check"></i><b>7.4</b> Our actual first pipeline</a></li>
<li class="chapter" data-level="7.5" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html#running-someone-elses-pipeline"><i class="fa fa-check"></i><b>7.5</b> Running someone else’s pipeline</a></li>
<li class="chapter" data-level="7.6" data-path="setting-up-pipelines-with-targets.html"><a href="setting-up-pipelines-with-targets.html#why-we-need-more"><i class="fa fa-check"></i><b>7.6</b> Why we need more</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-products-1.html"><a href="data-products-1.html"><i class="fa fa-check"></i><b>8</b> Data products</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-products-1.html"><a href="data-products-1.html#static-documents"><i class="fa fa-check"></i><b>8.1</b> Static Documents</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-products-1.html"><a href="data-products-1.html#word-pdf-and-pptx-documents"><i class="fa fa-check"></i><b>8.1.1</b> Word, PDF and PPTX Documents</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-products-1.html"><a href="data-products-1.html#html-documents"><i class="fa fa-check"></i><b>8.1.2</b> HTML documents</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-products-1.html"><a href="data-products-1.html#using-your-package-in-a-targets-pipeline"><i class="fa fa-check"></i><b>8.2</b> Using your package in a <code>{targets}</code> pipeline</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="what-else-should-you-learn.html"><a href="what-else-should-you-learn.html"><i class="fa fa-check"></i><b>9</b> What else should you learn?</a></li>
<li class="divider"></li>
<li><a href="https://github.com/b-rodrigues/rap4mads" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Analytical Pipelines - Master’s of Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="setting-up-pipelines-with-targets" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Setting up pipelines with <code>{targets}</code><a href="setting-up-pipelines-with-targets.html#setting-up-pipelines-with-targets" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div style="text-align:center;">
<p><img src="img/pipeline.png" width="512" /></p>
</div>
<p>What you’ll have learned by the end of the chapter: how to set up an (almost) reproducible pipeline.</p>
<div id="introduction-5" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Introduction<a href="setting-up-pipelines-with-targets.html#introduction-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>{targets}</code> is a build automation tool for the R programming language. <em>Build</em>, in the context of
this course means the creation of a data product. As mentioned in the introduction, this data
product can be anything from predictions from a model to interactive web applications.
<em>Automation</em> means that this build automation tool will take the burden off our shoulders when
it’ll be time to run the build pipeline. Using such a tool, programmers don’t need to think
about which parts of the code to rerun if they introduce a change somewhere. Only the parts
affected by the change will run. These tools also run the pipeline in parallel, because they
identify independent pats of the pipeline which are then run simultaneously. Build automation
tools have many benefits, and because they work in a certain way, they also force you to work
in a more structured way.</p>
</div>
<div id="build-automation-with-r" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Build automation with R<a href="setting-up-pipelines-with-targets.html#build-automation-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As an introduction, there really is not a better source than the <code>{targets}</code> manual itself, and in
particular the <a href="https://books.ropensci.org/targets/walkthrough.html">walkthrough section</a>. After
reading this section, we have the basic knowledge to build our first pipeline. The goal of this
pipeline will be to simply create a plot using the unemployment data we’ve been working on. Let’s
create a new project in RStudio, but make sure that you check the following boxes:</p>
<p><img src="img/pipeline_1.png" width="412" /></p>
<p>You should see the following message in the R console:</p>
<pre><code>* Initializing project ...
* Discovering package dependencies ... Done!
* Copying packages into the cache ... Done!
The following package(s) will be updated in the lockfile:

# CRAN ===============================
- renv   [* -&gt; 0.16.0]

The version of R recorded in the lockfile will be updated:
- R      [*] -&gt; [4.2.1]

* Lockfile written to &#39;~/six_to/first_pipeline/renv.lock&#39;.</code></pre>
<p>This is something that we have not discussed yet, so before we move on, let’s have a little aside
on what <code>{renv}</code> is.</p>
</div>
<div id="an-aside-on-renv" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> An aside on <code>{renv}</code><a href="setting-up-pipelines-with-targets.html#an-aside-on-renv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Any of your projects, whether they’re simple scripts to analyze some data or more complex
reproducible analytical pipelines depend on the packages that you use for the analysis. And
these packages evolve and change. It can very well happen that a function that you use from
package <code>{xyz}</code> version 1 won’t be available anymore in version 2. Or maybe it’s still available
but it works slightly different. It can be something as trivial as the arguments of the function
have been renamed. The consequence is that when you’ll try to rerun your code, it won’t work at all,
or worse, it’ll work, but produce a result that is not comparable to old results anymore,
because the function got changed and the underlying algorithm isn’t the same anymore.
So we need a certain stability, and ideally keep reusing the same packages for the same project.
If you want to update a project to use new packages version, this can of course also be done,
but it has to be conscious choice and you will have to make sure that the updated pipeline
(using the updated packages) is able to reproduce old results before putting it into production.</p>
<p><code>{renv}</code> creates separate package libraries, one per project. The idea is quite simple; start
your project with <code>{renv}</code> enabled (if you’re using RStudio, you can check the box
“Use renv with this project” when starting a new project, if you’re not using RStudio, you can
run <code>renv::init()</code>). This will create a file in the root of your project called <code>renv.lock</code>.
You can open this file in a text editor, and you should see that the R version you’re
currently using is recorded (and the version of <code>{renv}</code> itself). It should look something
like this:</p>
<pre><code>{
  &quot;R&quot;: {
    &quot;Version&quot;: &quot;4.2.1&quot;,
    &quot;Repositories&quot;: [
      {
        &quot;Name&quot;: &quot;CRAN&quot;,
        &quot;URL&quot;: &quot;http://cran.rstudio.com&quot;
      }
    ]
  },
  &quot;Packages&quot;: {
    &quot;renv&quot;: {
      &quot;Package&quot;: &quot;renv&quot;,
      &quot;Version&quot;: &quot;0.16.0&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;c9e8442ab69bc21c9697ecf856c1e6c7&quot;,
      &quot;Requirements&quot;: []
    }
  }
}</code></pre>
<p>You can then work as usual.
It doesn’t matter if you’re simply writing a script with an analysis, or doing something more
complex like a RAP. You will likely need to re-install packages though; remember, <code>{renv}</code>
sets up a library per project!</p>
<p>Once you’re done and satisfied, run <code>renv::snapshot()</code>. As you might have guessed from the name
this will take a snapshot of the project and write the current status to the <code>renv.lock</code> file:</p>
<pre><code>&gt; renv::snapshot()
The following package(s) will be updated in the lockfile:

# CRAN ===============================
- R6           [* -&gt; 2.5.1]
- cli          [* -&gt; 3.4.1]
- dplyr        [* -&gt; 1.0.10]
- fansi        [* -&gt; 1.0.3]
- generics     [* -&gt; 0.1.3]
- glue         [* -&gt; 1.6.2]
- lifecycle    [* -&gt; 1.0.3]
- magrittr     [* -&gt; 2.0.3]
- pillar       [* -&gt; 1.8.1]
- pkgconfig    [* -&gt; 2.0.3]
- rlang        [* -&gt; 1.0.6]
- tibble       [* -&gt; 3.1.8]
- tidyselect   [* -&gt; 1.2.0]
- utf8         [* -&gt; 1.2.2]
- vctrs        [* -&gt; 0.4.2]
- withr        [* -&gt; 2.5.0]

Do you want to proceed? [y/N]: </code></pre>
<p>In it, you will see that the libraries needed to run the project are also recorded. The
<code>renv.lock</code> will now look like this:</p>
<pre><code>{
  &quot;R&quot;: {
    &quot;Version&quot;: &quot;4.2.1&quot;,
    &quot;Repositories&quot;: [
      {
        &quot;Name&quot;: &quot;CRAN&quot;,
        &quot;URL&quot;: &quot;http://cran.rstudio.com&quot;
      }
    ]
  },
  &quot;Packages&quot;: {
    &quot;R6&quot;: {
      &quot;Package&quot;: &quot;R6&quot;,
      &quot;Version&quot;: &quot;2.5.1&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;470851b6d5d0ac559e9d01bb352b4021&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;cli&quot;: {
      &quot;Package&quot;: &quot;cli&quot;,
      &quot;Version&quot;: &quot;3.4.1&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;0d297d01734d2bcea40197bd4971a764&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;dplyr&quot;: {
      &quot;Package&quot;: &quot;dplyr&quot;,
      &quot;Version&quot;: &quot;1.0.10&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;539412282059f7f0c07295723d23f987&quot;,
      &quot;Requirements&quot;: [
        &quot;R6&quot;,
        &quot;generics&quot;,
        &quot;glue&quot;,
        &quot;lifecycle&quot;,
        &quot;magrittr&quot;,
        &quot;pillar&quot;,
        &quot;rlang&quot;,
        &quot;tibble&quot;,
        &quot;tidyselect&quot;,
        &quot;vctrs&quot;
      ]
    },
    &quot;fansi&quot;: {
      &quot;Package&quot;: &quot;fansi&quot;,
      &quot;Version&quot;: &quot;1.0.3&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;83a8afdbe71839506baa9f90eebad7ec&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;generics&quot;: {
      &quot;Package&quot;: &quot;generics&quot;,
      &quot;Version&quot;: &quot;0.1.3&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;15e9634c0fcd294799e9b2e929ed1b86&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;glue&quot;: {
      &quot;Package&quot;: &quot;glue&quot;,
      &quot;Version&quot;: &quot;1.6.2&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;4f2596dfb05dac67b9dc558e5c6fba2e&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;lifecycle&quot;: {
      &quot;Package&quot;: &quot;lifecycle&quot;,
      &quot;Version&quot;: &quot;1.0.3&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;001cecbeac1cff9301bdc3775ee46a86&quot;,
      &quot;Requirements&quot;: [
        &quot;cli&quot;,
        &quot;glue&quot;,
        &quot;rlang&quot;
      ]
    },
    &quot;magrittr&quot;: {
      &quot;Package&quot;: &quot;magrittr&quot;,
      &quot;Version&quot;: &quot;2.0.3&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;7ce2733a9826b3aeb1775d56fd305472&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;pillar&quot;: {
      &quot;Package&quot;: &quot;pillar&quot;,
      &quot;Version&quot;: &quot;1.8.1&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;f2316df30902c81729ae9de95ad5a608&quot;,
      &quot;Requirements&quot;: [
        &quot;cli&quot;,
        &quot;fansi&quot;,
        &quot;glue&quot;,
        &quot;lifecycle&quot;,
        &quot;rlang&quot;,
        &quot;utf8&quot;,
        &quot;vctrs&quot;
      ]
    },
    &quot;pkgconfig&quot;: {
      &quot;Package&quot;: &quot;pkgconfig&quot;,
      &quot;Version&quot;: &quot;2.0.3&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;01f28d4278f15c76cddbea05899c5d6f&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;renv&quot;: {
      &quot;Package&quot;: &quot;renv&quot;,
      &quot;Version&quot;: &quot;0.16.0&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;c9e8442ab69bc21c9697ecf856c1e6c7&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;rlang&quot;: {
      &quot;Package&quot;: &quot;rlang&quot;,
      &quot;Version&quot;: &quot;1.0.6&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;4ed1f8336c8d52c3e750adcdc57228a7&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;tibble&quot;: {
      &quot;Package&quot;: &quot;tibble&quot;,
      &quot;Version&quot;: &quot;3.1.8&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;56b6934ef0f8c68225949a8672fe1a8f&quot;,
      &quot;Requirements&quot;: [
        &quot;fansi&quot;,
        &quot;lifecycle&quot;,
        &quot;magrittr&quot;,
        &quot;pillar&quot;,
        &quot;pkgconfig&quot;,
        &quot;rlang&quot;,
        &quot;vctrs&quot;
      ]
    },
    &quot;tidyselect&quot;: {
      &quot;Package&quot;: &quot;tidyselect&quot;,
      &quot;Version&quot;: &quot;1.2.0&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;79540e5fcd9e0435af547d885f184fd5&quot;,
      &quot;Requirements&quot;: [
        &quot;cli&quot;,
        &quot;glue&quot;,
        &quot;lifecycle&quot;,
        &quot;rlang&quot;,
        &quot;vctrs&quot;,
        &quot;withr&quot;
      ]
    },
    &quot;utf8&quot;: {
      &quot;Package&quot;: &quot;utf8&quot;,
      &quot;Version&quot;: &quot;1.2.2&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;c9c462b759a5cc844ae25b5942654d13&quot;,
      &quot;Requirements&quot;: []
    },
    &quot;vctrs&quot;: {
      &quot;Package&quot;: &quot;vctrs&quot;,
      &quot;Version&quot;: &quot;0.4.2&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;0e3dfc070b2a8f0478fcdf86fb33355d&quot;,
      &quot;Requirements&quot;: [
        &quot;cli&quot;,
        &quot;glue&quot;,
        &quot;rlang&quot;
      ]
    },
    &quot;withr&quot;: {
      &quot;Package&quot;: &quot;withr&quot;,
      &quot;Version&quot;: &quot;2.5.0&quot;,
      &quot;Source&quot;: &quot;Repository&quot;,
      &quot;Repository&quot;: &quot;CRAN&quot;,
      &quot;Hash&quot;: &quot;c0e49a9760983e81e55cdd9be92e7182&quot;,
      &quot;Requirements&quot;: []
    }
  }
}
</code></pre>
<p>On your end, you’re done. You can push this project to github.com for instance, and someone
else who wishes to run this project will have to simply:</p>
<ul>
<li>Clone the repository;</li>
<li>Run <code>renv::restore()</code> to install all the required libraries.</li>
</ul>
<p>And that’s it! This person, who might be future you, will now be able to re-run the project
with the required libraries and the right versions.</p>
<p>In a coming section we are actually going to do just that, but for now, let’s go back to
<code>{targets}</code>.</p>
</div>
<div id="our-actual-first-pipeline" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Our actual first pipeline<a href="setting-up-pipelines-with-targets.html#our-actual-first-pipeline" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="running-someone-elses-pipeline" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Running someone else’s pipeline<a href="setting-up-pipelines-with-targets.html#running-someone-elses-pipeline" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>&gt; renv::restore()

Welcome to renv!

It looks like this is your first time using renv. This is a one-time message,
briefly describing some of renv&#39;s functionality.

renv maintains a local cache of data on the filesystem, located at:

  - &quot;~/.cache/R/renv&quot;

This path can be customized: please see the documentation in `?renv::paths`.

renv will also write to files within the active project folder, including:

  - A folder &#39;renv&#39; in the project directory, and
  - A lockfile called &#39;renv.lock&#39; in the project directory.

In particular, projects using renv will normally use a private, per-project
R library, in which new packages will be installed. This project library is
isolated from other R libraries on your system.

In addition, renv will update files within your project directory, including:

  - .gitignore
  - .Rbuildignore
  - .Rprofile

Please read the introduction vignette with `vignette(&quot;renv&quot;)` for more information.
You can browse the package documentation online at https://rstudio.github.io/renv/.
</code></pre>
</div>
<div id="why-we-need-more" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Why we need more<a href="setting-up-pipelines-with-targets.html#why-we-need-more" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="unit-tests.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-products-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/b-rodrigues/rap4mads/edit/master/07-targets.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/b-rodrigues/rap4mads/blob/master/07-targets.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
